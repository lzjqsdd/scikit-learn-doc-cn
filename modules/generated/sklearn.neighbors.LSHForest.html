
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>sklearn.neighbors.LSHForest &#8212; scikit-learn 0.18.1 documentation</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../_static/css/bootstrap-responsive.css"/>

    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.18.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="scikit-learn 0.18.1 documentation" href="../../index.html" />
    <link rel="up" title="API ?ο?" href="../classes.html" />
    <link rel="next" title="sklearn.neighbors.DistanceMetric" href="sklearn.neighbors.DistanceMetric.html" />
    <link rel="prev" title="sklearn.neighbors.KDTree" href="sklearn.neighbors.KDTree.html" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../../_static/js/bootstrap.min.js" type="text/javascript"></script>
  <link rel="canonical" href="http://scikit-learn.org/stable/modules/generated/sklearn.neighbors.LSHForest.html" />

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
  </script>

  </head>
  <body role="document">

<div class="header-wrapper">
    <div class="header">
        <p class="logo"><a href="../../index.html">
            <img src="../../_static/scikit-learn-logo-small.png" alt="Logo"/>
        </a>
        </p><div class="navbar">
            <ul>
                <li><a href="../../index.html">主页</a></li>
                <li><a href="../../install.html">安装</a></li>
                <li class="btn-li"><div class="btn-group">
              <a href="../../documentation.html">文档</a>
              <a class="btn dropdown-toggle" data-toggle="dropdown">
                 <span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
            <li class="link-title">Scikit-learn 0.17 (stable)</li>
            <li><a href="../../tutorial/index.html">入门指南</a></li>
            <li><a href="../../user_guide.html">使用手册</a></li>
            <li><a href="../classes.html">API</a></li>
            <li><a href="../../faq.html">FAQ</a></li>
            <li><a href="../../developers.html">贡献</a></li>
            <li class="divider"></li>
                <li><a href="http://scikit-learn.org/dev/documentation.html">Scikit-learn 0.18 (development)</a></li>
                <li><a href="http://scikit-learn.org/0.16/documentation.html">Scikit-learn 0.16</a></li>
				<li><a href="../../_downloads/user_guide.pdf">PDF 文档</a></li>
              </ul>
            </div>
        </li>
            <li><a href="../../auto_examples/index.html">例子</a></li>
            </ul>

            <div class="search_form">
                <div id="cse" style="width: 100%;"></div>
            </div>
        </div> <!-- end navbar --></div>
</div>


<!-- Github "fork me" ribbon -->
<a href="https://github.com/lzjqsdd/scikit-learn-doc-cn">
  <img class="fork-me"
       style="position: absolute; top: 0; right: 0; border: 0;"
       src="../../_static/img/forkme.png"
       alt="Fork me on GitHub" />
</a>

<div class="content-wrapper">
    <div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        <div class="rel">
    

  <!-- rellinks[1:] is an ugly hack to avoid link to module
  index -->
        <div class="rellink">
        <a href="sklearn.neighbors.KDTree.html"
        accesskey="P">Previous
        <br/>
        <span class="smallrellink">
        sklearn.neigh...
        </span>
            <span class="hiddenrellink">
            sklearn.neighbors.KDTree
            </span>
        </a>
        </div>

    <!-- Ad a link to the 'up' page -->
        <div class="spacer">
        &nbsp;
        </div>
        <div class="rellink">
        <a href="../classes.html">
        Up
        <br/>
        <span class="smallrellink">
        API ?ο?
        </span>
            <span class="hiddenrellink">
            API ?ο?
            </span>
            
        </a>
        </div>
    </div>
    
      <p class="doc-version">This documentation is for scikit-learn <strong>version 0.18.1</strong> &mdash; <a href="http://scikit-learn.org/stable/support.html#documentation-resources">Other versions</a></p>
    <p class="citing">If you use the software, please consider <a href="../../about.html#citing-scikit-learn">citing scikit-learn</a>.</p>
    <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">sklearn.neighbors</span></code>.LSHForest</a><ul>
<li><a class="reference internal" href="#examples-using-sklearn-neighbors-lshforest">Examples using <code class="docutils literal"><span class="pre">sklearn.neighbors.LSHForest</span></code></a></li>
</ul>
</li>
</ul>

    </div>
</div>

<input type="checkbox" id="nav-trigger" class="nav-trigger" checked />
<label for="nav-trigger"></label>




      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sklearn-neighbors-lshforest">
<h1><a class="reference internal" href="../classes.html#module-sklearn.neighbors" title="sklearn.neighbors"><code class="xref py py-mod docutils literal"><span class="pre">sklearn.neighbors</span></code></a>.LSHForest<a class="headerlink" href="#sklearn-neighbors-lshforest" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="sklearn.neighbors.LSHForest">
<em class="property">class </em><code class="descclassname">sklearn.neighbors.</code><code class="descname">LSHForest</code><span class="sig-paren">(</span><em>n_estimators=10</em>, <em>radius=1.0</em>, <em>n_candidates=50</em>, <em>n_neighbors=5</em>, <em>min_hash_match=4</em>, <em>radius_cutoff_ratio=0.9</em>, <em>random_state=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L110"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs approximate nearest neighbor search using LSH forest.</p>
<p>LSH Forest: Locality Sensitive Hashing forest [1] is an alternative
method for vanilla approximate nearest neighbor search methods.
LSH forest data structure has been implemented using sorted
arrays and binary search and 32 bit fixed-length hashes.
Random projection is used as the hash family which approximates
cosine distance.</p>
<p>The cosine distance is defined as <code class="docutils literal"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">cosine_similarity</span></code>: the lowest
value is 0 (identical point) but it is bounded above by 2 for the farthest
points. Its value does not depend on the norm of the vector points but
only on their relative angles.</p>
<p>Read more in the <a class="reference internal" href="../neighbors.html#approximate-nearest-neighbors"><span class="std std-ref">User Guide</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_estimators</strong> : int (default = 10)</p>
<blockquote>
<div><p>Number of trees in the LSH Forest.</p>
</div></blockquote>
<p><strong>min_hash_match</strong> : int (default = 4)</p>
<blockquote>
<div><p>lowest hash length to be searched when candidate selection is
performed for nearest neighbors.</p>
</div></blockquote>
<p><strong>n_candidates</strong> : int (default = 10)</p>
<blockquote>
<div><p>Minimum number of candidates evaluated per estimator, assuming enough
items meet the <cite>min_hash_match</cite> constraint.</p>
</div></blockquote>
<p><strong>n_neighbors</strong> : int (default = 5)</p>
<blockquote>
<div><p>Number of neighbors to be returned from query function when
it is not provided to the <a class="reference internal" href="#sklearn.neighbors.LSHForest.kneighbors" title="sklearn.neighbors.LSHForest.kneighbors"><code class="xref py py-meth docutils literal"><span class="pre">kneighbors</span></code></a> method.</p>
</div></blockquote>
<p><strong>radius</strong> : float, optinal (default = 1.0)</p>
<blockquote>
<div><p>Radius from the data point to its neighbors. This is the parameter
space to use by default for the :meth`radius_neighbors` queries.</p>
</div></blockquote>
<p><strong>radius_cutoff_ratio</strong> : float, optional (default = 0.9)</p>
<blockquote>
<div><p>A value ranges from 0 to 1. Radius neighbors will be searched until
the ratio between total neighbors within the radius and the total
candidates becomes less than this value unless it is terminated by
hash length reaching <cite>min_hash_match</cite>.</p>
</div></blockquote>
<p><strong>random_state</strong> : int, RandomState instance or None, optional (default=None)</p>
<blockquote>
<div><p>If int, random_state is the seed used by the random number generator;
If RandomState instance, random_state is the random number generator;
If None, the random number generator is the RandomState instance used
by <cite>np.random</cite>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Attributes:</th><td class="field-body"><p class="first"><strong>hash_functions_</strong> : list of GaussianRandomProjectionHash objects</p>
<blockquote>
<div><p>Hash function g(p,x) for a tree is an array of 32 randomly generated
float arrays with the same dimension as the data set. This array is
stored in GaussianRandomProjectionHash object and can be obtained
from <code class="docutils literal"><span class="pre">components_</span></code> attribute.</p>
</div></blockquote>
<p><strong>trees_</strong> : array, shape (n_estimators, n_samples)</p>
<blockquote>
<div><p>Each tree (corresponding to a hash function) contains an array of
sorted hashed values. The array representation may change in future
versions.</p>
</div></blockquote>
<p><strong>original_indices_</strong> : array, shape (n_estimators, n_samples)</p>
<blockquote class="last">
<div><p>Original indices of sorted hashed values in the fitted index.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r192" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[R192]</a></td><td>M. Bawa, T. Condie and P. Ganesan, &#8220;LSH Forest: Self-Tuning
Indexes for Similarity Search&#8221;, WWW &#8216;05 Proceedings of the
14th international conference on World Wide Web,  651-660,
2005.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="k">import</span> <span class="n">LSHForest</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_test</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lshf</span> <span class="o">=</span> <span class="n">LSHForest</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lshf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>  
<span class="go">LSHForest(min_hash_match=4, n_candidates=50, n_estimators=10,</span>
<span class="go">          n_neighbors=5, radius=1.0, radius_cutoff_ratio=0.9,</span>
<span class="go">          random_state=42)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">lshf</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distances</span>                                        
<span class="go">array([[ 0.069...,  0.149...],</span>
<span class="go">       [ 0.229...,  0.481...],</span>
<span class="go">       [ 0.004...,  0.014...]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span>
<span class="go">array([[1, 2],</span>
<span class="go">       [2, 0],</span>
<span class="go">       [4, 0]])</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.fit" title="sklearn.neighbors.LSHForest.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(X[,&nbsp;y])</td>
<td>Fit the LSH forest on the data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.get_params" title="sklearn.neighbors.LSHForest.get_params"><code class="xref py py-obj docutils literal"><span class="pre">get_params</span></code></a>([deep])</td>
<td>Get parameters for this estimator.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.kneighbors" title="sklearn.neighbors.LSHForest.kneighbors"><code class="xref py py-obj docutils literal"><span class="pre">kneighbors</span></code></a>(X[,&nbsp;n_neighbors,&nbsp;return_distance])</td>
<td>Returns n_neighbors of approximate nearest neighbors.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.kneighbors_graph" title="sklearn.neighbors.LSHForest.kneighbors_graph"><code class="xref py py-obj docutils literal"><span class="pre">kneighbors_graph</span></code></a>([X,&nbsp;n_neighbors,&nbsp;mode])</td>
<td>Computes the (weighted) graph of k-Neighbors for points in X</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.partial_fit" title="sklearn.neighbors.LSHForest.partial_fit"><code class="xref py py-obj docutils literal"><span class="pre">partial_fit</span></code></a>(X[,&nbsp;y])</td>
<td>Inserts new data into the already fitted LSH Forest.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.radius_neighbors" title="sklearn.neighbors.LSHForest.radius_neighbors"><code class="xref py py-obj docutils literal"><span class="pre">radius_neighbors</span></code></a>(X[,&nbsp;radius,&nbsp;return_distance])</td>
<td>Finds the neighbors within a given radius of a point or points.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.radius_neighbors_graph" title="sklearn.neighbors.LSHForest.radius_neighbors_graph"><code class="xref py py-obj docutils literal"><span class="pre">radius_neighbors_graph</span></code></a>([X,&nbsp;radius,&nbsp;mode])</td>
<td>Computes the (weighted) graph of Neighbors for points in X</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sklearn.neighbors.LSHForest.set_params" title="sklearn.neighbors.LSHForest.set_params"><code class="xref py py-obj docutils literal"><span class="pre">set_params</span></code></a>(\*\*params)</td>
<td>Set the parameters of this estimator.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sklearn.neighbors.LSHForest.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>n_estimators=10</em>, <em>radius=1.0</em>, <em>n_candidates=50</em>, <em>n_neighbors=5</em>, <em>min_hash_match=4</em>, <em>radius_cutoff_ratio=0.9</em>, <em>random_state=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L209"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L337"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the LSH forest on the data.</p>
<p>This creates binary hashes of input data points by getting the
dot product of input points and hash_function then
transforming the projection into a binary string array based
on the sign (positive/negative) of the projection.
A sorted array of binary hashes is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array_like or sparse (CSR) matrix, shape (n_samples, n_features)</p>
<blockquote>
<div><p>List of n_features-dimensional data points. Each row
corresponds to a single data point.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong> : object</p>
<blockquote class="last">
<div><p>Returns self.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/base.py#L220"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>deep</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>params</strong> : mapping of string to any</p>
<blockquote class="last">
<div><p>Parameter names mapped to their values.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.kneighbors">
<code class="descname">kneighbors</code><span class="sig-paren">(</span><em>X</em>, <em>n_neighbors=None</em>, <em>return_distance=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L401"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.kneighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n_neighbors of approximate nearest neighbors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array_like or sparse (CSR) matrix, shape (n_samples, n_features)</p>
<blockquote>
<div><p>List of n_features-dimensional data points.  Each row
corresponds to a single query.</p>
</div></blockquote>
<p><strong>n_neighbors</strong> : int, opitonal (default = None)</p>
<blockquote>
<div><p>Number of neighbors required. If not provided, this will
return the number specified at the initialization.</p>
</div></blockquote>
<p><strong>return_distance</strong> : boolean, optional (default = True)</p>
<blockquote>
<div><p>Returns the distances of neighbors if set to True.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dist</strong> : array, shape (n_samples, n_neighbors)</p>
<blockquote>
<div><p>Array representing the cosine distances to each point,
only present if return_distance=True.</p>
</div></blockquote>
<p><strong>ind</strong> : array, shape (n_samples, n_neighbors)</p>
<blockquote class="last">
<div><p>Indices of the approximate nearest points in the population
matrix.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.kneighbors_graph">
<code class="descname">kneighbors_graph</code><span class="sig-paren">(</span><em>X=None</em>, <em>n_neighbors=None</em>, <em>mode='connectivity'</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/base.py#L420"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.kneighbors_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the (weighted) graph of k-Neighbors for points in X</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array-like, shape (n_query, n_features),                 or (n_query, n_indexed) if metric == &#8216;precomputed&#8217;</p>
<blockquote>
<div><p>The query point or points.
If not provided, neighbors of each indexed point are returned.
In this case, the query point is not considered its own neighbor.</p>
</div></blockquote>
<p><strong>n_neighbors</strong> : int</p>
<blockquote>
<div><p>Number of neighbors for each sample.
(default is value passed to the constructor).</p>
</div></blockquote>
<p><strong>mode</strong> : {&#8216;connectivity&#8217;, &#8216;distance&#8217;}, optional</p>
<blockquote>
<div><p>Type of returned matrix: &#8216;connectivity&#8217; will return the
connectivity matrix with ones and zeros, in &#8216;distance&#8217; the
edges are Euclidean distance between points.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : sparse matrix in CSR format, shape = [n_samples, n_samples_fit]</p>
<blockquote class="last">
<div><p>n_samples_fit is the number of samples in the fitted data
A[i, j] is assigned the weight of edge that connects i to j.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="sklearn.neighbors.NearestNeighbors.html#sklearn.neighbors.NearestNeighbors.radius_neighbors_graph" title="sklearn.neighbors.NearestNeighbors.radius_neighbors_graph"><code class="xref py py-obj docutils literal"><span class="pre">NearestNeighbors.radius_neighbors_graph</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="k">import</span> <span class="n">NearestNeighbors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neigh</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neigh</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> 
<span class="go">NearestNeighbors(algorithm=&#39;auto&#39;, leaf_size=30, ...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">neigh</span><span class="o">.</span><span class="n">kneighbors_graph</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="go">array([[ 1.,  0.,  1.],</span>
<span class="go">       [ 0.,  1.,  1.],</span>
<span class="go">       [ 1.,  0.,  1.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.partial_fit">
<code class="descname">partial_fit</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L509"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.partial_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts new data into the already fitted LSH Forest.
Cost is proportional to new total size, so additions
should be batched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array_like or sparse (CSR) matrix, shape (n_samples, n_features)</p>
<blockquote class="last">
<div><p>New data point to be inserted into the LSH Forest.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.radius_neighbors">
<code class="descname">radius_neighbors</code><span class="sig-paren">(</span><em>X</em>, <em>radius=None</em>, <em>return_distance=True</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/approximate.py#L450"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.radius_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the neighbors within a given radius of a point or points.</p>
<p>Return the indices and distances of some points from the dataset
lying in a ball with size <code class="docutils literal"><span class="pre">radius</span></code> around the points of the query
array. Points lying on the boundary are included in the results.</p>
<p>The result points are <em>not</em> necessarily sorted by distance to their
query point.</p>
<p>LSH Forest being an approximate method, some true neighbors from the
indexed dataset might be missing from the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array_like or sparse (CSR) matrix, shape (n_samples, n_features)</p>
<blockquote>
<div><p>List of n_features-dimensional data points. Each row
corresponds to a single query.</p>
</div></blockquote>
<p><strong>radius</strong> : float</p>
<blockquote>
<div><p>Limiting distance of neighbors to return.
(default is the value passed to the constructor).</p>
</div></blockquote>
<p><strong>return_distance</strong> : boolean, optional (default = False)</p>
<blockquote>
<div><p>Returns the distances of neighbors if set to True.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dist</strong> : array, shape (n_samples,) of arrays</p>
<blockquote>
<div><p>Each element is an array representing the cosine distances
to some points found within <code class="docutils literal"><span class="pre">radius</span></code> of the respective query.
Only present if <code class="docutils literal"><span class="pre">return_distance=True</span></code>.</p>
</div></blockquote>
<p><strong>ind</strong> : array, shape (n_samples,) of arrays</p>
<blockquote class="last">
<div><p>Each element is an array of indices for neighbors within <code class="docutils literal"><span class="pre">radius</span></code>
of the respective query.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.radius_neighbors_graph">
<code class="descname">radius_neighbors_graph</code><span class="sig-paren">(</span><em>X=None</em>, <em>radius=None</em>, <em>mode='connectivity'</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/neighbors/base.py#L649"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.radius_neighbors_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the (weighted) graph of Neighbors for points in X</p>
<p>Neighborhoods are restricted the points at a distance lower than
radius.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : array-like, shape = [n_samples, n_features], optional</p>
<blockquote>
<div><p>The query point or points.
If not provided, neighbors of each indexed point are returned.
In this case, the query point is not considered its own neighbor.</p>
</div></blockquote>
<p><strong>radius</strong> : float</p>
<blockquote>
<div><p>Radius of neighborhoods.
(default is the value passed to the constructor).</p>
</div></blockquote>
<p><strong>mode</strong> : {&#8216;connectivity&#8217;, &#8216;distance&#8217;}, optional</p>
<blockquote>
<div><p>Type of returned matrix: &#8216;connectivity&#8217; will return the
connectivity matrix with ones and zeros, in &#8216;distance&#8217; the
edges are Euclidean distance between points.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : sparse matrix in CSR format, shape = [n_samples, n_samples]</p>
<blockquote class="last">
<div><p>A[i, j] is assigned the weight of edge that connects i to j.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="sklearn.neighbors.kneighbors_graph.html#sklearn.neighbors.kneighbors_graph" title="sklearn.neighbors.kneighbors_graph"><code class="xref py py-obj docutils literal"><span class="pre">kneighbors_graph</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="k">import</span> <span class="n">NearestNeighbors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neigh</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">neigh</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> 
<span class="go">NearestNeighbors(algorithm=&#39;auto&#39;, leaf_size=30, ...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">neigh</span><span class="o">.</span><span class="n">radius_neighbors_graph</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="go">array([[ 1.,  0.,  1.],</span>
<span class="go">       [ 0.,  1.,  0.],</span>
<span class="go">       [ 1.,  0.,  1.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sklearn.neighbors.LSHForest.set_params">
<code class="descname">set_params</code><span class="sig-paren">(</span><em>**params</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/9d3f127/sklearn/base.py#L257"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sklearn.neighbors.LSHForest.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as pipelines). The latter have parameters of the form
<code class="docutils literal"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it&#8217;s possible to update each
component of a nested object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>self</strong> :</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="examples-using-sklearn-neighbors-lshforest">
<h2>Examples using <code class="docutils literal"><span class="pre">sklearn.neighbors.LSHForest</span></code><a class="headerlink" href="#examples-using-sklearn-neighbors-lshforest" title="Permalink to this headline">¶</a></h2>
<div class="thumbnailContainer" tooltip="This example demonstrates the behaviour of the accuracy of the nearest neighbor queries of Loca..."><div class="figure" id="id2">
<a class="reference external image-reference" href="./../../auto_examples/neighbors/plot_approximate_nearest_neighbors_hyperparameters.html"><img alt="../../_images/plot_approximate_nearest_neighbors_hyperparameters1.png" src="../../_images/plot_approximate_nearest_neighbors_hyperparameters1.png" /></a>
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/neighbors/plot_approximate_nearest_neighbors_hyperparameters.html#example-neighbors-plot-approximate-nearest-neighbors-hyperparameters-py"><span class="std std-ref">Hyper-parameters of Approximate Nearest Neighbors</span></a></span></p>
</div>
</div><div class="thumbnailContainer" tooltip="This example studies the scalability profile of approximate 10-neighbors queries using the LSHF..."><div class="figure" id="id3">
<a class="reference external image-reference" href="./../../auto_examples/neighbors/plot_approximate_nearest_neighbors_scalability.html"><img alt="../../_images/plot_approximate_nearest_neighbors_scalability1.png" src="../../_images/plot_approximate_nearest_neighbors_scalability1.png" /></a>
<p class="caption"><span class="caption-text"><a class="reference internal" href="../../auto_examples/neighbors/plot_approximate_nearest_neighbors_scalability.html#example-neighbors-plot-approximate-nearest-neighbors-scalability-py"><span class="std std-ref">Scalability of Approximate Nearest Neighbors</span></a></span></p>
</div>
</div><div class="clearer"></div></div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer">
        &copy; 2010 - 2014, scikit-learn developers (BSD License).
      <a href="../../_sources/modules/generated/sklearn.neighbors.LSHForest.txt" rel="nofollow">Show this page source</a>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="sklearn.neighbors.KDTree.html">Previous
      </a>
    </div>
    
     </div>

    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22606712-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> google.load('search', '1',
        {language : 'en'}); google.setOnLoadCallback(function() {
            var customSearchControl = new
            google.search.CustomSearchControl('016639176250731907682:tjtqbvtvij0');
            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            var options = new google.search.DrawOptions();
            options.setAutoComplete(true);
            customSearchControl.draw('cse', options); }, true);
    </script>
  </body>
</html>